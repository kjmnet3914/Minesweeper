# 💣 지뢰찾기 (Minesweeper)

Python + tkinter 로 구현한 **윈도우 클래식 지뢰찾기** 완전 재현 프로젝트.

---

## 🖥️ 스크린샷

> 초급(9×9) · 중급(16×16) · 고급(16×30) 지원

---

## ✨ 주요 기능

| 기능 | 설명 |
|------|------|
| 🎮 **난이도 선택** | 초급 / 중급 / 고급 / 사용자 정의 |
| 🛡️ **첫 클릭 보호** | 첫 클릭 위치 3×3 안전지대 보장 |
| 🖱️ **좌클릭** | 셀 열기 (빈 칸 BFS 자동 연쇄) |
| 🚩 **우클릭** | 깃발 → 물음표 → 닫힘 순환 토글 |
| ⚡ **Chord Click** | 좌+우 동시 클릭: 인접 깃발 수 == 숫자이면 자동 열기 |
| ⏱️ **타이머 & LCD** | 클래식 LCD 스타일 지뢰 카운터 + 타이머 |
| 😎 **이모지 버튼** | 🙂😮😎😵 게임 상태 반영 |
| 🏆 **최고 기록** | 난이도별 기록 저장 (`best_records.json`) |
| 💡 **확률 힌트** | 💡 버튼: 닫힌 셀의 지뢰 확률 실시간 표시 |

---

## 💡 확률 힌트 알고리즘

**완전 열거 (Combinatorial Enumeration)** 방식 사용:

1. **제약 수집** — 각 열린 숫자 셀에서 `(잔여지뢰수, 인접닫힌셀)` 제약 생성
2. **제약 전파 (Propagation)** — 확정 안전(0%) / 확정 지뢰(100%) 셀 선행 결정
   - 부분집합 추론 `A⊂B → (B-A)에 (B.rem-A.rem)개 지뢰`
3. **Union-Find 그룹 분리** — 제약을 공유하는 셀끼리 독립 그룹으로 분리
4. **가지치기 백트래킹** — 각 그룹의 모든 유효 배치 열거 (최대 노드 30만 안전장치)
5. **Convolution 합성** — 그룹 간 지뢰 수 분포 합성
6. **`C(비frontier셀, 잔여지뢰)` 가중치** — 전역 지뢰 수 정보를 반영한 정확한 확률 계산

| 표시 | 색상 | 의미 |
|------|------|------|
| ✓ | 🟢 초록 | 0% — 확실히 안전 |
| 1~25% | 초록 | 낮은 위험 |
| 26~50% | 노랑 | 주의 |
| 51~75% | 주황 | 위험 |
| 76~99% | 빨강 | 매우 위험 |
| 💣 | 🔴 빨강 | 100% — 확실히 지뢰 |

---

## 🚀 실행 방법

### 요구사항
- Python 3.8 이상
- tkinter (Python 기본 포함)

### 실행

```bash
python minesweeper.py
```

또는 `지뢰찾기_실행.bat` 더블클릭 (Windows)

---

## 🗂️ 파일 구성

```
Minesweeper/
├── minesweeper.py        # 메인 게임 소스
├── best_records.json     # 난이도별 최고 기록
├── 지뢰찾기_실행.bat      # Windows 원클릭 실행
└── __task.py             # 실행 + 오류 진단 스크립트
```

---

## 📝 버전 이력

| 버전 | 내용 |
|------|------|
| v1.0 | 기본 게임 구현 |
| v1.2 | CELL_SIZE 2배 확대, Chord Click 구현 |
| v1.3 | 💡 확률 힌트 (완전 열거 알고리즘) 추가 |

---

## 📄 라이선스

MIT License
